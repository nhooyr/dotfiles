#!/usr/bin/env bash

set -euo pipefail

args=("$@")

# If there is no remote tracking branch and the arguments are
# empty, then push to the current remote.
if ! git rev-parse '@{u}' > /dev/null 2>&1 && [[ $# -eq 0 ]]; then
  args=("-u")
fi

git push "${args[@]}"
